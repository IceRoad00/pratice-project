게시물 (게시물번호, 제목, 내용, ...)
댓글(댓글번호, 작성자, 내용, 작성일, 게시물번호, 부모댓글번호)

[1, 제목1, 내용1]
[2, 제목2, 내용2]

[1, 존, 댓글1, 2024-04-19, 1, null]
[2, 마이클, 댓글1-1, 2024-04-19, 1, 1]
[3, 피터, 댓글2, 2024-04-19, 1, null]
[4, 존, 댓글1-1-1, 2024-04-19, 1, 2]
[5, 피터, 댓글1-2, 2024-04-19, 1, 1]
0

** User
client가 header에 bearer 토큰을 포함하여 요청

0. 해당 요청의 메서드와 URL을 보고 인증 인가가 필요한 요청인지 확인
1. header의 Authorization 필드에 값이 있는지 확인
2. 해당 요청의 인증 방식이 Bearer 인증 방식인지 확인
3. Authorization 필드의 값에서 토큰 추출
4. 토큰의 유효성 판단
5. 토큰에서 userId 추출
6. userId로 데이터베이스에서 조회
7. 조회 결과로부터 사용자의 권한을 추출
8. context에 request의 정보와 접근주체의 정보를 추가
9. 접근주체가 해당 요청을 사용할 권한이 있는지 확인
0.1 만약 인증 및 인가 작업에 실패하면 'AF' 응답 처리

10. 컨트롤러의 메서드에서 인증 접근주체의 정보를 가져옴

(userId)

11. 데이터베이스의 user테이블에서 userId에 해당하는 레코드를 조회
11.1 데이터베이스 오류 발생시 'DBE' 응답 처리
12. 존재하는 user인지 확인
12.1 존재하지 않는다면 'AF' 응답 처리
13. 'SU' 응답 처리 (userId, userRole 포함)

** Board

0. 클라이언트로부터 Authorization 헤더와 Request Body를 포함하여 요청
0.1 권한이 없는 사용자이면 'AF' 응답 처리 (403)
0.2 유효하지 않은 데이터이면 'VF' 응답 처리

(title, contents), userId

1. 데이터베이스의 user테이블에서 해당 유저가 존재하는지 확인
1.1 존재하지 않는 유저라면 'AF' 응답 처리 (401)
1.2 데이터베이스 오류가 발생하면 'DBE' 응답 처리

2. Board 테이블에 데이터 삽입
2.1 데이터베이스 오류가 발생하면 'DBE' 응답 처리

3. 'SU' 응답 처리

데이터베이스에서 전체 리스트 조회 -> List<BoardEntity> -> List<BoardListItem>

결과 전체 게시물 리스트

한 페이지 당 10
한 섹션 당 10

총 게시물 수: 316
총 페이지 수: 32((총 게시물 수 - 1) // 한 페이지 당 게시물 수) + 1
총 섹션 수: 4((총 페이지 수 - 1) // 한 섹션 당 페이지 수) + 1

페이지 - 시작 인덱스 ~ 종료 인덱스
1 - 0 ~ 9 (page - 1) * 10 ~ [page * 10 - 1 / 마지막 인덱스] 
2 - 10 ~ 19
3 - 20 ~ 29
...
31 - 300 ~ 309
32 - 310 ~ 315

섹션 - 시작 페이지 ~ 종료 페이지
1 - 1 ~ 10 (섹션 * 섹션 당 페이지 수 - (섹션 당 페이지 수 - 1)) ~ [(섹션 * 섹션 당 페이지 수) / 마지막 페이지]
2 - 11 ~ 20
3 - 21 ~ 30
4 - 31 ~ 32